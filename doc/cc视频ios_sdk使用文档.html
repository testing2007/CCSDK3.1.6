<!doctype html>
<html>
<head>
<meta charset='UTF-8'><meta name='viewport' content='width=device-width initial-scale=1'>
<title>cc视频ios_sdk使用文档.md</title><link href='http://fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,700,400&subset=latin,latin-ext' rel='stylesheet' type='text/css'><style type='text/css'>html, body {overflow-x: initial !important;}.CodeMirror { height: auto; }
.CodeMirror-scroll { overflow-y: hidden; overflow-x: auto; }
.CodeMirror-lines { padding: 4px 0px; }
.CodeMirror pre { }
.CodeMirror-scrollbar-filler, .CodeMirror-gutter-filler { background-color: white; }
.CodeMirror-gutters { border-right-width: 1px; border-right-style: solid; border-right-color: rgb(221, 221, 221); background-color: rgb(247, 247, 247); white-space: nowrap; }
.CodeMirror-linenumbers { }
.CodeMirror-linenumber { padding: 0px 3px 0px 5px; text-align: right; color: rgb(153, 153, 153); }
.CodeMirror div.CodeMirror-cursor { border-left-width: 1px; border-left-style: solid; border-left-color: black; z-index: 3; }
.CodeMirror div.CodeMirror-secondarycursor { border-left-width: 1px; border-left-style: solid; border-left-color: silver; }
.CodeMirror.cm-keymap-fat-cursor div.CodeMirror-cursor { width: auto; border: 0px; background-color: rgb(119, 238, 119); z-index: 1; background-position: initial initial; background-repeat: initial initial; }
.CodeMirror div.CodeMirror-cursor.CodeMirror-overwrite { }
.cm-tab { display: inline-block; }
.cm-s-typora-default .cm-header, .cm-s-typora-default .cm-property { color: rgb(217, 79, 138); }
.cm-s-typora-default pre.cm-header1:not(.cm-atom) :not(.cm-overlay) { font-size: 2rem; line-height: 2rem; }
.cm-s-typora-default pre.cm-header2:not(.cm-atom) :not(.cm-overlay) { font-size: 1.4rem; line-height: 1.4rem; }
.cm-s-typora-default .cm-atom, .cm-s-typora-default .cm-number { color: rgb(149, 132, 134); }
.cm-s-typora-default .cm-table-row, .cm-s-typora-default .cm-block-start { font-family: monospace; }
.cm-s-typora-default .cm-comment, .cm-s-typora-default .cm-code { color: rgb(74, 90, 159); font-family: monospace; }
.cm-s-typora-default .cm-tag { color: rgb(169, 68, 66); }
.cm-s-typora-default .cm-string { color: rgb(126, 134, 169); }
.cm-s-typora-default .cm-link { color: rgb(196, 122, 15); text-decoration: underline; }
.cm-s-typora-default .cm-variable-2, .cm-s-typora-default .cm-variable-1 { color: inherit; }
.cm-s-typora-default .cm-overlay { font-size: 1rem; font-family: monospace; }
.CodeMirror.cm-s-typora-default div.CodeMirror-cursor { border-left-width: 3px; border-left-style: solid; border-left-color: rgb(228, 98, 154); }
.cm-s-typora-default .CodeMirror-activeline-background { left: -60px; right: -30px; background-color: rgba(204, 204, 204, 0.2); background-position: initial initial; background-repeat: initial initial; }
.cm-s-typora-default .CodeMirror-gutters { border-right-style: none; background-color: inherit; }
.cm-s-typora-default .cm-trailing-space-new-line::after, .cm-startspace::after, .cm-starttab .cm-tab::after { content: '•'; position: absolute; left: 0px; opacity: 0; font-family: LetterGothicStd, monospace; }
.os-windows .cm-startspace::after, .os-windows .cm-starttab .cm-tab::after { left: -0.1em; }
.cm-starttab .cm-tab::after { content: " "; }
.cm-startspace, .cm-tab, .cm-starttab, .cm-trailing-space-a, .cm-trailing-space-b, .cm-trailing-space-new-line { font-family: monospace; position: relative; }
.cm-s-typora-default .cm-trailing-space-new-line::after { content: '↓'; opacity: 0.3; }
.cm-s-inner .cm-keyword { color: rgb(119, 0, 136); }
.cm-s-inner .cm-atom, .cm-s-inner.cm-atom { color: rgb(34, 17, 153); }
.cm-s-inner .cm-number { color: rgb(17, 102, 68); }
.cm-s-inner .cm-def { color: rgb(0, 0, 255); }
.cm-s-inner .cm-variable { color: black; }
.cm-s-inner .cm-variable-2 { color: rgb(0, 85, 170); }
.cm-s-inner .cm-variable-3 { color: rgb(0, 136, 85); }
.cm-s-inner .cm-property { color: black; }
.cm-s-inner .cm-operator { color: rgb(152, 26, 26); }
.cm-s-inner .cm-comment, .cm-s-inner.cm-comment { color: rgb(170, 85, 0); }
.cm-s-inner .cm-string { color: rgb(170, 17, 17); }
.cm-s-inner .cm-string-2 { color: rgb(255, 85, 0); }
.cm-s-inner .cm-meta { color: rgb(85, 85, 85); }
.cm-s-inner .cm-qualifier { color: rgb(85, 85, 85); }
.cm-s-inner .cm-builtin { color: rgb(51, 0, 170); }
.cm-s-inner .cm-bracket { color: rgb(153, 153, 119); }
.cm-s-inner .cm-tag { color: rgb(17, 119, 0); }
.cm-s-inner .cm-attribute { color: rgb(0, 0, 204); }
.cm-s-inner .cm-header, .cm-s-inner.cm-header { color: blue; }
.cm-s-inner .cm-quote, .cm-s-inner.cm-quote { color: rgb(0, 153, 0); }
.cm-s-inner .cm-hr, .cm-s-inner.cm-hr { color: rgb(153, 153, 153); }
.cm-s-inner .cm-link, .cm-s-inner.cm-link { color: rgb(0, 0, 204); }
.cm-negative { color: rgb(221, 68, 68); }
.cm-positive { color: rgb(34, 153, 34); }
.cm-header, .cm-strong { font-weight: bold; }
.cm-del { text-decoration: line-through; }
.cm-em { font-style: italic; }
.cm-link { text-decoration: underline; }
.cm-error { color: rgb(255, 0, 0); }
.cm-invalidchar { color: rgb(255, 0, 0); }
div.CodeMirror span.CodeMirror-matchingbracket { color: rgb(0, 255, 0); }
div.CodeMirror span.CodeMirror-nonmatchingbracket { color: rgb(255, 34, 34); }
.cm-s-inner .CodeMirror-activeline-background { background-image: inherit; background-size: inherit; background-attachment: inherit; background-origin: inherit; background-clip: inherit; background-color: inherit; background-position: inherit inherit; background-repeat: inherit inherit; }
.CodeMirror { position: relative; overflow: hidden; }
.CodeMirror-scroll { margin-bottom: -30px; margin-right: -30px; padding-bottom: 30px; padding-right: 30px; height: 100%; outline: none; position: relative; box-sizing: content-box; }
.CodeMirror-sizer { position: relative; }
.CodeMirror-vscrollbar, .CodeMirror-hscrollbar, .CodeMirror-scrollbar-filler, .CodeMirror-gutter-filler { position: absolute; z-index: 6; display: none; }
.CodeMirror-vscrollbar { right: 0px; top: 0px; overflow-x: hidden; overflow-y: scroll; }
.CodeMirror-hscrollbar { bottom: 0px; left: 0px; overflow-y: hidden; overflow-x: scroll; }
.CodeMirror-scrollbar-filler { right: 0px; bottom: 0px; }
.CodeMirror-gutter-filler { left: 0px; bottom: 0px; }
.CodeMirror-gutters { position: absolute; left: 0px; top: 0px; padding-bottom: 30px; z-index: 3; }
.CodeMirror-gutter { white-space: normal; height: 100%; box-sizing: content-box; padding-bottom: 30px; margin-bottom: -32px; display: inline-block; }
.CodeMirror-gutter-elt { position: absolute; cursor: default; z-index: 4; }
.CodeMirror-lines { cursor: text; }
.CodeMirror pre { border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; border-width: 0px; background-color: transparent; font-family: inherit; font-size: inherit; margin: 0px; white-space: pre; word-wrap: normal; color: inherit; z-index: 2; position: relative; overflow: visible; background-position: initial initial; background-repeat: initial initial; }
.CodeMirror-wrap pre { word-wrap: break-word; white-space: pre-wrap; word-break: normal; }
.CodeMirror-code pre { border-right-width: 30px; border-right-style: solid; border-right-color: transparent; width: fit-content; }
.CodeMirror-wrap .CodeMirror-code pre { border-right-style: none; width: auto; }
.CodeMirror-linebackground { position: absolute; left: 0px; right: 0px; top: 0px; bottom: 0px; z-index: 0; }
.CodeMirror-linewidget { position: relative; z-index: 2; overflow: auto; }
.CodeMirror-widget { }
.CodeMirror-wrap .CodeMirror-scroll { overflow-x: hidden; }
.CodeMirror-measure { position: absolute; width: 100%; height: 0px; overflow: hidden; visibility: hidden; }
.CodeMirror-measure pre { position: static; }
.CodeMirror div.CodeMirror-cursor { position: absolute; visibility: hidden; border-right-style: none; width: 0px; }
.CodeMirror div.CodeMirror-cursor { visibility: hidden; }
.CodeMirror-focused div.CodeMirror-cursor { visibility: inherit; }
.CodeMirror-selected { background-color: rgb(217, 217, 217); background-position: initial initial; background-repeat: initial initial; }
.CodeMirror-focused .CodeMirror-selected { background-color: rgb(215, 212, 240); background-position: initial initial; background-repeat: initial initial; }
.cm-searching { background-color: rgba(255, 255, 0, 0.4); background-position: initial initial; background-repeat: initial initial; }
.CodeMirror span { }
@media print { 
  .CodeMirror div.CodeMirror-cursor { visibility: hidden; }
}
.CodeMirror-lint-markers { width: 16px; }
.CodeMirror-lint-tooltip { background-color: infobackground; border: 1px solid black; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; color: infotext; font-family: monospace; overflow: hidden; padding: 2px 5px; position: fixed; white-space: pre-wrap; z-index: 10000; max-width: 600px; opacity: 0; transition: opacity 0.4s; font-size: 0.8em; }
.CodeMirror-lint-mark-error, .CodeMirror-lint-mark-warning { background-position: left bottom; background-repeat: repeat no-repeat; }
.CodeMirror-lint-mark-error { background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAADCAYAAAC09K7GAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9sJDw4cOCW1/KIAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAAHElEQVQI12NggIL/DAz/GdA5/xkY/qPKMDAwAADLZwf5rvm+LQAAAABJRU5ErkJggg==); }
.CodeMirror-lint-marker-error, .CodeMirror-lint-marker-warning { cursor: pointer; display: inline-block; height: 16px; width: 16px; vertical-align: middle; position: relative; background-position: center center; background-repeat: no-repeat no-repeat; }
.CodeMirror-lint-message-error, .CodeMirror-lint-message-warning { padding-left: 18px; background-position: left top; background-repeat: no-repeat no-repeat; }
.CodeMirror-lint-marker-error, .CodeMirror-lint-message-error { background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAHlBMVEW7AAC7AACxAAC7AAC7AAAAAAC4AAC5AAD///+7AAAUdclpAAAABnRSTlMXnORSiwCK0ZKSAAAATUlEQVR42mWPOQ7AQAgDuQLx/z8csYRmPRIFIwRGnosRrpamvkKi0FTIiMASR3hhKW+hAN6/tIWhu9PDWiTGNEkTtIOucA5Oyr9ckPgAWm0GPBog6v4AAAAASUVORK5CYII=); }
.CodeMirror-lint-marker-warning, .CodeMirror-lint-message-warning { background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAANlBMVEX/uwDvrwD/uwD/uwD/uwD/uwD/uwD/uwD/uwD6twD/uwAAAADurwD2tQD7uAD+ugAAAAD/uwDhmeTRAAAADHRSTlMJ8mN1EYcbmiixgACm7WbuAAAAVklEQVR42n3PUQqAIBBFUU1LLc3u/jdbOJoW1P08DA9Gba8+YWJ6gNJoNYIBzAA2chBth5kLmG9YUoG0NHAUwFXwO9LuBQL1giCQb8gC9Oro2vp5rncCIY8L8uEx5ZkAAAAASUVORK5CYII=); }
.CodeMirror-lint-marker-multiple { background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAAHCAMAAADzjKfhAAAACVBMVEUAAAAAAAC/v7914kyHAAAAAXRSTlMAQObYZgAAACNJREFUeNo1ioEJAAAIwmz/H90iFFSGJgFMe3gaLZ0od+9/AQZ0ADosbYraAAAAAElFTkSuQmCC); width: 100%; height: 100%; background-position: right bottom; background-repeat: no-repeat no-repeat; }


html { font-size: 14px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); }
body { margin: 0px; padding: 0px; height: auto; bottom: 0px; top: 0px; left: 0px; right: 0px; font-family: "Helvetica Neue", Helvetica, Arial, sans-serif; font-size: 1rem; line-height: 1.42857143; overflow-x: hidden; background-image: inherit; background-size: inherit; background-attachment: inherit; background-origin: inherit; background-clip: inherit; background-color: inherit; background-position: inherit inherit; background-repeat: inherit inherit; }
a:active, a:hover { outline: 0px; }
.in-text-selection, ::selection { background-color: rgb(181, 214, 252); text-shadow: none; background-position: initial initial; background-repeat: initial initial; }
#write { margin: 0px auto; height: auto; width: inherit; word-break: normal; word-wrap: break-word; position: relative; padding-bottom: 70px; white-space: pre-wrap; overflow-x: auto; }
.for-image #write { padding-left: 8px; padding-right: 8px; }
body.typora-export { padding-left: 30px; padding-right: 30px; }
@media screen and (max-width: 500px) { 
  body.typora-export { padding-left: 0px; padding-right: 0px; }
  .CodeMirror-sizer { margin-left: 0px !important; }
  .CodeMirror-gutters { display: none !important; }
}
.typora-export #write { margin: 0px auto; }
#write > p:first-child, #write > ul:first-child, #write > ol:first-child, #write > pre:first-child, #write > blockquote:first-child, #write > div:first-child, #write > table:first-child { margin-top: 30px; }
#write li > table:first-child { margin-top: -20px; }
img { max-width: 100%; }
input, button, select, textarea { color: inherit; font-family: inherit; font-size: inherit; font-style: inherit; font-variant-caps: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; }
input[type="checkbox"], input[type="radio"] { line-height: normal; padding: 0px; }
::before, ::after, * { box-sizing: border-box; }
#write p, #write h1, #write h2, #write h3, #write h4, #write h5, #write h6, #write div, #write pre { width: inherit; }
#write p, #write h1, #write h2, #write h3, #write h4, #write h5, #write h6 { position: relative; }
h1 { font-size: 2rem; }
h2 { font-size: 1.8rem; }
h3 { font-size: 1.6rem; }
h4 { font-size: 1.4rem; }
h5 { font-size: 1.2rem; }
h6 { font-size: 1rem; }
p { -webkit-margin-before: 1rem; -webkit-margin-after: 1rem; -webkit-margin-start: 0px; -webkit-margin-end: 0px; }
.mathjax-block { margin-top: 0px; margin-bottom: 0px; -webkit-margin-before: 0rem; -webkit-margin-after: 0rem; }
.hidden { display: none; }
.md-blockmeta { color: rgb(204, 204, 204); font-weight: bold; font-style: italic; }
a { cursor: pointer; }
#write input[type="checkbox"] { cursor: pointer; width: inherit; height: inherit; margin: 4px 0px 0px; }
tr { break-inside: avoid; break-after: auto; }
thead { display: table-header-group; }
table { border-collapse: collapse; border-spacing: 0px; width: 100%; overflow: auto; break-inside: auto; text-align: left; }
table.md-table td { min-width: 80px; }
.CodeMirror-gutters { border-right-width: 0px; background-color: inherit; }
.CodeMirror { text-align: left; }
.CodeMirror-placeholder { opacity: 0.3; }
.CodeMirror pre { padding: 0px 4px; }
.CodeMirror-lines { padding: 0px; }
div.hr:focus { cursor: none; }
pre { white-space: pre-wrap; }
.CodeMirror-gutters { margin-right: 4px; }
.md-fences { font-size: 0.9rem; display: block; break-inside: avoid; text-align: left; overflow: visible; white-space: pre; background-image: inherit; background-size: inherit; background-attachment: inherit; background-origin: inherit; background-clip: inherit; background-color: inherit; position: relative !important; background-position: inherit inherit; background-repeat: inherit inherit; }
.md-diagram-panel { width: 100%; margin-top: 10px; text-align: center; padding-top: 0px; padding-bottom: 8px; overflow-x: auto; }
.md-fences .CodeMirror.CodeMirror-wrap { top: -1.6em; margin-bottom: -1.6em; }
.md-fences.mock-cm { white-space: pre-wrap; }
.show-fences-line-number .md-fences { padding-left: 0px; }
.show-fences-line-number .md-fences.mock-cm { padding-left: 40px; }
.footnotes { opacity: 0.8; font-size: 0.9rem; padding-top: 1em; padding-bottom: 1em; }
.footnotes + .footnotes { margin-top: -1em; }
.md-reset { margin: 0px; padding: 0px; border: 0px; outline: 0px; vertical-align: top; background-color: transparent; text-decoration: none; text-shadow: none; float: none; position: static; width: auto; height: auto; white-space: nowrap; cursor: inherit; line-height: normal; font-weight: normal; text-align: left; box-sizing: content-box; direction: ltr; background-position: initial initial; background-repeat: initial initial; }
li div { padding-top: 0px; }
blockquote { margin: 1rem 0px; }
li p, li .mathjax-block { margin: 0.5rem 0px; }
li { margin: 0px; position: relative; }
blockquote > :last-child { margin-bottom: 0px; }
blockquote > :first-child { margin-top: 0px; }
.footnotes-area { color: rgb(136, 136, 136); margin-top: 0.714rem; padding-bottom: 0.143rem; }
@media print { 
  html, body { height: 100%; }
  .typora-export * { -webkit-print-color-adjust: exact; }
  h1, h2, h3, h4, h5, h6 { break-after: avoid-page; orphans: 2; }
  p { orphans: 4; }
  html.blink-to-pdf { font-size: 13px; }
  .typora-export #write { padding-left: 1cm; padding-right: 1cm; }
  .typora-export #write::after { height: 0px; }
  @page { margin: 20mm 0mm; }
}
.footnote-line { margin-top: 0.714em; font-size: 0.7em; }
a img, img a { cursor: pointer; }
pre.md-meta-block { font-size: 0.8rem; min-height: 2.86rem; white-space: pre-wrap; background-color: rgb(204, 204, 204); display: block; background-position: initial initial; background-repeat: initial initial; }
p .md-image:only-child, p img:only-child { display: inline-block; width: 100%; text-align: center; }
#write .MathJax_Display { margin: 0.8em 0px 0px; }
.mathjax-block { white-space: pre; overflow: hidden; width: 100%; }
p + .mathjax-block { margin-top: -1.143rem; }
.mathjax-block:not(:empty)::after { display: none; }
[contenteditable="true"]:active, [contenteditable="true"]:focus { outline: none; box-shadow: none; }
.task-list { list-style-type: none; }
.task-list-item { position: relative; padding-left: 1em; }
.task-list-item input { position: absolute; top: 0px; left: 0px; }
.math { font-size: 1rem; }
.md-toc { min-height: 3.58rem; position: relative; font-size: 0.9rem; border-top-left-radius: 10px; border-top-right-radius: 10px; border-bottom-right-radius: 10px; border-bottom-left-radius: 10px; }
.md-toc-content { position: relative; margin-left: 0px; }
.md-toc::after, .md-toc-content::after { display: none; }
.md-toc-item { display: block; color: rgb(65, 131, 196); text-decoration: none; }
.md-toc-inner:hover { }
.md-toc-inner { display: inline-block; cursor: pointer; }
.md-toc-h1 .md-toc-inner { margin-left: 0px; font-weight: bold; }
.md-toc-h2 .md-toc-inner { margin-left: 2em; }
.md-toc-h3 .md-toc-inner { margin-left: 4em; }
.md-toc-h4 .md-toc-inner { margin-left: 6em; }
.md-toc-h5 .md-toc-inner { margin-left: 8em; }
.md-toc-h6 .md-toc-inner { margin-left: 10em; }
@media screen and (max-width: 48em) { 
  .md-toc-h3 .md-toc-inner { margin-left: 3.5em; }
  .md-toc-h4 .md-toc-inner { margin-left: 5em; }
  .md-toc-h5 .md-toc-inner { margin-left: 6.5em; }
  .md-toc-h6 .md-toc-inner { margin-left: 8em; }
}
a.md-toc-inner { font-size: inherit; font-style: inherit; font-weight: inherit; line-height: inherit; }
.footnote-line a:not(.reversefootnote) { color: inherit; }
.md-attr { display: none; }
.md-fn-count::after { content: "."; }
.md-tag { opacity: 0.5; }
.md-comment { color: rgb(162, 127, 3); opacity: 0.8; font-family: monospace; }
code { text-align: left; }
h1 .md-tag, h2 .md-tag, h3 .md-tag, h4 .md-tag, h5 .md-tag, h6 .md-tag { font-weight: initial; opacity: 0.35; }
a.md-header-anchor.md-print-anchor { border: none !important; display: inline-block !important; position: absolute !important; width: 1px !important; right: 0px !important; outline: none !important; background-color: transparent !important; text-shadow: initial !important; background-position: initial initial !important; background-repeat: initial initial !important; }
.md-inline-math .MathJax_SVG .noError { display: none !important; }
.mathjax-block .MathJax_SVG_Display { text-align: center; margin: 1em 0em; position: relative; text-indent: 0px; max-width: none; max-height: none; min-width: 0px; min-height: 0px; width: 100%; display: block !important; }
.MathJax_SVG_Display, .md-inline-math .MathJax_SVG_Display { width: auto; margin: inherit; display: inline-block !important; }
.MathJax_SVG .MJX-monospace { font-family: monospace; }
.MathJax_SVG .MJX-sans-serif { font-family: sans-serif; }
.MathJax_SVG { display: inline; font-style: normal; font-weight: normal; line-height: normal; zoom: 90%; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; }
.MathJax_SVG * { transition: none; }


@include-when-export url(http://fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,700,400&subset=latin,latin-ext);

/**
 * css forked from https://github.com/GitbookIO/gitbook 
 * www.gitbook.com
 * Apache License
 * https://github.com/GitbookIO/gitbook/blob/master/LICENSE
 **/

@font-face {
    font-family: 'Open Sans';
    font-style: normal;
    font-weight: normal;
    src: local('Open Sans Regular'),url('file:///Users/luyang/Library/Application%20Support/abnerworks.Typora/themes/github/400.woff') format('woff')
}

@font-face {
    font-family: 'Open Sans';
    font-style: italic;
    font-weight: normal;
    src: local('Open Sans Italic'),url('file:///Users/luyang/Library/Application%20Support/abnerworks.Typora/themes/github/400i.woff') format('woff')
}

@font-face {
    font-family: 'Open Sans';
    font-style: normal;
    font-weight: bold;
    src: local('Open Sans Bold'),url('file:///Users/luyang/Library/Application%20Support/abnerworks.Typora/themes/github/700.woff') format('woff')
}

@font-face {
    font-family: 'Open Sans';
    font-style: italic;
    font-weight: bold;
    src: local('Open Sans Bold Italic'),url('file:///Users/luyang/Library/Application%20Support/abnerworks.Typora/themes/github/700i.woff') format('woff')
}

html {
    font-size: 16px;
}

body {
    font-family: "Open Sans","Clear Sans","Helvetica Neue",Helvetica,Arial,sans-serif;
    color: rgb(51, 51, 51);
    line-height: 1.6;
}

#write{
    max-width: 860px;
  	margin: 0 auto;
  	padding: 20px 30px 40px 30px;
	padding-top: 20px;
    padding-bottom: 100px;
}
#write > ul:first-child,
#write > ol:first-child{
    margin-top: 30px;
}

body > *:first-child {
    margin-top: 0 !important;
}
body > *:last-child {
    margin-bottom: 0 !important;
}
a {
    color: #4183C4;
}
h1,
h2,
h3,
h4,
h5,
h6 {
    position: relative;
    margin-top: 1rem;
    margin-bottom: 1rem;
    font-weight: bold;
    line-height: 1.4;
    cursor: text;
}
h1:hover a.anchor,
h2:hover a.anchor,
h3:hover a.anchor,
h4:hover a.anchor,
h5:hover a.anchor,
h6:hover a.anchor {
    /*background: url("file:///Users/luyang/Library/Application%20Support/images/modules/styleguide/para.png") no-repeat 10px center;*/
    text-decoration: none;
}
h1 tt,
h1 code {
    font-size: inherit;
}
h2 tt,
h2 code {
    font-size: inherit;
}
h3 tt,
h3 code {
    font-size: inherit;
}
h4 tt,
h4 code {
    font-size: inherit;
}
h5 tt,
h5 code {
    font-size: inherit;
}
h6 tt,
h6 code {
    font-size: inherit;
}
h1 {
    padding-bottom: .3em;
    font-size: 2.25em;
    line-height: 1.2;
    border-bottom: 1px solid #eee;
}
h2 {
   padding-bottom: .3em;
    font-size: 1.75em;
    line-height: 1.225;
    border-bottom: 1px solid #eee;
}
h3 {
    font-size: 1.5em;
    line-height: 1.43;
}
h4 {
    font-size: 1.25em;
}
h5 {
    font-size: 1em;
}
h6 {
   font-size: 1em;
    color: #777;
}
p,
blockquote,
ul,
ol,
dl,
table{
    margin: 0.8em 0;
}
li>ol,
li>ul {
    margin: 0 0;
}
hr {
    height: 4px;
    padding: 0;
    margin: 16px 0;
    background-color: #e7e7e7;
    border: 0 none;
    overflow: hidden;
    box-sizing: content-box;
    border-bottom: 1px solid #ddd;
}

body > h2:first-child {
    margin-top: 0;
    padding-top: 0;
}
body > h1:first-child {
    margin-top: 0;
    padding-top: 0;
}
body > h1:first-child + h2 {
    margin-top: 0;
    padding-top: 0;
}
body > h3:first-child,
body > h4:first-child,
body > h5:first-child,
body > h6:first-child {
    margin-top: 0;
    padding-top: 0;
}
a:first-child h1,
a:first-child h2,
a:first-child h3,
a:first-child h4,
a:first-child h5,
a:first-child h6 {
    margin-top: 0;
    padding-top: 0;
}
h1 p,
h2 p,
h3 p,
h4 p,
h5 p,
h6 p {
    margin-top: 0;
}
li p.first {
    display: inline-block;
}
ul,
ol {
    padding-left: 30px;
}
ul:first-child,
ol:first-child {
    margin-top: 0;
}
ul:last-child,
ol:last-child {
    margin-bottom: 0;
}
blockquote {
    border-left: 4px solid #dddddd;
    padding: 0 15px;
    color: #777777;
}
blockquote blockquote {
    padding-right: 0;
}
table {
    padding: 0;
    word-break: initial;
}
#write {
    overflow-x: auto;
}
table tr {
    border-top: 1px solid #cccccc;
    background-color: white;
    margin: 0;
    padding: 0;
}
table tr:nth-child(2n) {
    background-color: #f8f8f8;
}
table tr th {
    font-weight: bold;
    border: 1px solid #cccccc;
    text-align: left;
    margin: 0;
    padding: 6px 13px;
}
table tr td {
    border: 1px solid #cccccc;
    text-align: left;
    margin: 0;
    padding: 6px 13px;
}
table tr th:first-child,
table tr td:first-child {
    margin-top: 0;
}
table tr th:last-child,
table tr td:last-child {
    margin-bottom: 0;
}

.CodeMirror-gutters {
    border-right: 1px solid #ddd;
}

.md-fences,
code,
tt {
    border: 1px solid #ddd;
    background-color: #f8f8f8;
    border-radius: 3px;
    padding: 0;
    font-family: Consolas, "Liberation Mono", Courier, monospace;
    padding: 2px 4px 0px 4px;
    font-size: 0.9em;
}

.md-fences {
    margin-bottom: 15px;
    margin-top: 15px;
    padding: 0.2em 1em;
    padding-top: 8px;
    padding-bottom: 6px;
}
.task-list{
	padding-left: 0;
}

.task-list-item {
	padding-left:32px;
}

.task-list-item input {
  top: 3px;
  left: 8px;
}

@media screen and (min-width: 914px) {
    /*body {
        width: 854px;
        margin: 0 auto;
    }*/
}
@media print {
    html {
        font-size: 13px;
    }
    table,
    pre {
        page-break-inside: avoid;
    }
    pre {
        word-wrap: break-word;
    }
}

.md-fences {
	background-color: #f8f8f8;
}
#write pre.md-meta-block {
	padding: 1rem;
    font-size: 85%;
    line-height: 1.45;
    background-color: #f7f7f7;
    border: 0;
    border-radius: 3px;
    color: #777777;
    margin-top: 0 !important;
}

.mathjax-block>.code-tooltip {
	bottom: .375rem;
}

#write>h3.md-focus:before{
	left: -1.5625rem;
	top: .375rem;
}
#write>h4.md-focus:before{
	left: -1.5625rem;
	top: .285714286rem;
}
#write>h5.md-focus:before{
	left: -1.5625rem;
	top: .285714286rem;
}
#write>h6.md-focus:before{
	left: -1.5625rem;
	top: .285714286rem;
}
.md-image>.md-meta {
    border: 1px solid #ddd;
    background-color: #f8f8f8;
    border-radius: 3px;
    font-family: Consolas, "Liberation Mono", Courier, monospace;
    padding: 2px 4px 0px 4px;
    font-size: 0.9em;
    color: inherit;
}

.md-tag{
	color: inherit;
}

.md-toc { 
    margin-top:20px;
    padding-bottom:20px;
}

#typora-quick-open {
    border: 1px solid #ddd;
    background-color: #f8f8f8;
}

#typora-quick-open-item {
    background-color: #FAFAFA;
    border-color: #FEFEFE #e5e5e5 #e5e5e5 #eee;
    border-style: solid;
    border-width: 1px;
}

#md-notification:before {
    top: 10px;
}

/** focus mode */
.on-focus-mode blockquote {
    border-left-color: rgba(85, 85, 85, 0.12);
}

header, .context-menu, .megamenu-content, footer{
    font-family: "Segoe UI", "Arial", sans-serif;
}


</style>
</head>
<body class='typora-export' >
<div  id='write'  class = 'is-mac'><p>CC视频iOS SDK使用文档</p><p>版本：3.1.6
日期：2018-05-22</p><h2><a name='header-c11' class='md-header-anchor '></a>1. SDK整体功能介绍</h2><p>该SDK采用ARC(Automatic Reference Counting)、使用HTTP协议实现，支持https协议，提供移动端在线离线播放、上传、下载、统计功能。</p><p>注意:1.SDK添加到项目后，在项目TARGETS-Build Settings-Other linker Flags添加-ObjC 或者-all_load。-ObjC:链接静态库中所有的Objective-C代码到项目中，-all_load：链接静态库中所有的代码到项目中。</p><p>​        2.添加AudioSession设置：</p><pre class='md-fences mock-cm' style='display:block;position:relative'>- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions
{ 
   //设置全局AVAudioSession
    NSError *categoryError = nil;
    BOOL success = [[AVAudioSession sharedInstance] setCategory:AVAudioSessionCategoryPlayback error:&amp;categoryError];
    if (!success)
    {
        NSLog(@&quot;Error setting audio session category: %@&quot;, categoryError);
    }
    
    NSError *activeError = nil;
    success = [[AVAudioSession sharedInstance] setActive:YES error:&amp;activeError];
    if (!success)
    {
        NSLog(@&quot;Error setting audio session active: %@&quot;, activeError);
    }

 }</pre><p>SDK 压缩包：</p><pre class='md-fences mock-cm' style='display:block;position:relative'>- Demo - 使用SDK对接CC视频云服务的示例源码;
- doc - SDK接口文档;
- cc-sdk-document.html - CC视频iOS SDK使用文档（本文档）;
- include - SDK的头文件;
- libCCSDK.a - SDK的静态库;
- vrlibraw.bundle -VR功能用到的glsl文件;</pre><p>适用于iOS8.0+。</p><h2><a name='header-c24' class='md-header-anchor '></a>2. SDK能做什么</h2><p>SDK实现了移动端在线离线播放、上传、下载的必要接口。使用这些接口时，需提供CC视频分配的userId和API KEY。你可以登陆<a href='http://admin.bokecc.com/' target='_blank'>CC视频管理后台</a>获取。CC视频云使用userId和API KEY校验你的合法性，在使用SDK接口过程中，通常用它们作为模块初始化参数，填写错误或为空会造成失败。</p><h3><a name='header-c29' class='md-header-anchor '></a>2.1 如何使用SDK播放CC视频云上的视频</h3><p><code>DWPlayerView</code>模块封装了AVPlayer，提供使用userId、videoId、API KEY初始化方法，从CC视频云获取视频播放信息。</p><h4><a name='header-c32' class='md-header-anchor '></a>2.1.1 使用SDK播放CC视频云上视频的流程</h4><h5><a name='header-c33' class='md-header-anchor '></a>1. 初始化 DWPlayerView</h5><pre class='md-fences mock-cm' style='display:block;position:relative'>DWPlayerView *playerView = [[DWPlayerView alloc] initWithUserId:userId
        andVideoId:videoId 
        key:apiKey];</pre><p>或者</p><pre class='md-fences mock-cm' style='display:block;position:relative'>DWPlayerView *playerView = [[DWPlayerView alloc] initWithUserId:userId key:apiKey];
playerView.videoId = videoId;</pre><h5><a name='header-c38' class='md-header-anchor '></a>2.设置frame以及填充模式</h5><pre class='md-fences mock-cm' style='display:block;position:relative'>/**
 设置填充模式 如果要自定义playerView的高，请先改变填充模式
 AVPlayerLayer的videoGravity属性设置
 AVLayerVideoGravityResize,       // 非均匀模式。两个维度完全填充至整个视图区域
 AVLayerVideoGravityResizeAspect,  // 等比例填充，直到一个维度到达区域边界
 AVLayerVideoGravityResizeAspectFill, // 等比例填充，直到填充满整个视图区域，其中一个维度的部分区域会被裁剪
 填充模式默认为AVLayerVideoGravityResizeAspect
 
 */
playerView.frame =CGRectMake(0,0,ScreenWidth,ScreenHeight/2-50);
//playerView.videoGravity =AVLayerVideoGravityResizeAspect;
playerView.delegate =self;//设置代理
[self.view addSubview:playerView];//添加到目标视图
注意：在播放过程中(譬如全屏 非全屏的切换等)不要移除playerView，否则会出现有声音无画面的bug</pre><p></p><h5><a name='header-c42' class='md-header-anchor '></a>3. 设置请求播放信息HTTP通信超时时间</h5><pre class='md-fences mock-cm' style='display:block;position:relative'>playerView.timeoutSeconds = 20;</pre><p>默认超时时间10秒。</p><h5><a name='header-c46' class='md-header-anchor '></a>4.设置mediatype</h5><pre class='md-fences mock-cm' style='display:block;position:relative'>//1为视频 2为音频 0为视频+音频 若不传该参数默认为视频
playerView.mediatype =@&quot;0&quot;;</pre><h5><a name='header-c48' class='md-header-anchor '></a>5. 设置block</h5><h5><a name='header-c49' class='md-header-anchor '></a>DWPlayerView有以下block：</h5><pre class='md-fences mock-cm' style='display:block;position:relative'>typedef void(^DWMoivePlayerGetPlayUrlsBlock)(NSDictionary *playUrls);
typedef void (^DWErrorBlock)(NSError *error);

@property (copy, nonatomic)DWMoivePlayerGetPlayUrlsBlock getPlayUrlsBlock;

/**
 *  获取视频播放信息或播放过程中发生错误或失败时，回调该block。可以在该block内更新UI，如更改视频播放状态。
 */
@property (copy, nonatomic)DWErrorBlock failBlock;</pre><p>其中</p><ol start='' ><li><p>getPlayUrlsBlock 获取视频播放信息</p><pre class='md-fences mock-cm' style='display:block;position:relative'> player.getPlayUrlsBlock = ^(NSDictionary *playUrls) {
     // [必须]判断 status 的状态，不为&quot;0&quot;说明该视频不可播放，可能正处于转码、审核等状态。
     NSNumber *status = [playUrls objectForKey:@&quot;status&quot;];
     if (status == nil || [status integerValue] != 0) {
         NSLog(&quot;playUrlsBlock invalid&quot;);
     }
     // 保存playUrls 或 选择某种清晰度进行播放。
 };</pre><p> 当SDK准备好视频播放信息时，会调用该block。你可以在该block中保存播放信息或实现播放逻辑。 </p><p> 获取的播放信息<code>NSDictionary *playUrls</code>为UTF-8编码，内容形如：</p><pre class='md-fences mock-cm' style='display:block;position:relative'> 注意：若mediatype为@&quot;0&quot;，返回数据为视频+音频；若mediatype为@&quot;1&quot;，则只返回视频数据；若mediatype为@&quot;2&quot;，则只返回音频数据；若不设置mediatype，则只返回视频数据。以下以返回视频+音频为例：
 {
    defaultquality = 10;
    qualities =     (
                {
            desp = &quot;\U6e05\U6670&quot;;
            mediatype = 1;
            playurl = &quot;http://xxx.play.bokecc.com/...&quot;;
            quality = 10;
            spareurl = &quot;http://xxx.play.bokecc.com/...&quot;;
        },
                {
            desp = &quot;m4a\U539f\U58f0&quot;;
            mediatype = 2;
            playurl = &quot;http://xxx.play.bokecc.com/...&quot;;
            quality = 50;
            spareurl = &quot;&quot;;
        },
                {
            desp = &quot;mp3\U6807\U51c6&quot;;
            mediatype = 2;
            playurl = &quot;http://xxx.play.bokecc.com/...&quot;;
            quality = 61;
            spareurl = &quot;&quot;;
        }
    );
    qualityDescription =     (
        &quot;清晰&quot;,
        &quot;m4a原声&quot;,
        &quot;mp3标准&quot;
    );
    status = 0;
    statusinfo = &quot;正常&quot;;
    videomarks =     (
                {
            markdesc = &quot;\U8428\U5fb7\U7b2c\U4e09\U65b9&quot;;
            marktime = 3;
        },
                {
            markdesc = &quot;\U6ca1\U6709\U7684\U8c0e\U8a00&quot;;
            marktime = 10;
        }
              
    );
    
    questions =     (
                {
            answers =             (
                                {
                    content = &quot;A\U3001\U963f\U65af\U987f\U53d1\U9001\U5230\U53d1&quot;;
                    id = 1001;
                    right = 0;
                },
                                {
                    content = &quot;B\U3001\U963f\U65af\U987f\U53d1\U9001\U5230\U53d1\U4e09&quot;;
                    id = 1002;
                    right = 1;
                },
                                {
                    content = &quot;C\U3001\U53d1\U7684\U53d1\U9001\U5230&quot;;
                    id = 1003;
                    right = 0;
                },
                                {
                    content = &quot;D\U3001\U9632\U8f90\U5c04&quot;;
                    id = 1004;
                    right = 0;
                }
            );
            backSecond = &quot;1&quot;;
            content = &quot;\U963f\U5927\U662f\U6253\U53d1\U65af\U8482\U82ac&quot;;
            explainInfo = &quot;\U963f\U65af\U987f\U53d1\U9001\U5230&quot;;
            id = 99;
            jump = 0;
            showTime = 2;
        };
        subtitleDic =     {
          bottom = &quot;0.23&quot;;
          code = &quot;utf-8&quot;;
       	  color = 0x0000FF;
          font = &quot;Times New Roman&quot;;
          size = 42;
          surroundColor = 0xFF6600;
          url = &quot;http://1.material.bokecc.com/material/1725A8A9604EAE30/3624.srt&quot;;
    };

    vrmode = 0;
}</pre></li></ol><p></p><p></p><pre class='md-fences mock-cm' style='display:block;position:relative'>- status（整数）和 statusinfo（字符串）  status表示这个视频在CC视频云上的当前的状态值，statusinfo 是     状态值的文字描述，如正处于转码、正在审核等。只有当 status 为0时，该视频才可以播放。你在实现App播放逻辑时需特别注意。
- defaultquality（整数） 默认清晰度值
- qualityDescription（字符串数组） 清晰度及格式文字描述
- qualities（字典的列表） 不同清晰度播放url列表
- quality（整数）和 desp（字符串）清晰度数值和清晰度文字描述。
- playurl（字符串）音视频播放url
- spareurl (字符串)音视频播放url
- vrmode （整数）1表示当前视频是VR视频 0表示当前视频是普通视频
- videomarks （打点数组） marktime为打点时间 markdesc打点描述
- questions(问答数组)showTime显示时间 jump能否跳过 content问题及选项(其中{图片URL}) backSecond回退时间  explainInfo解释 right是否正确
- subtitleDic(字幕字典信息) bottom离底部的距离比例 code编码格式 color颜色 font字体(如果没有改字体 则用默认字体) size字体大小  surroundColor背景色 url获取字幕的地址

**注意：**视频数据里playurl与spareurl是两个不同的线路 可切换 
**注意：**CC视频的播放url具有时效性，你需要在每次播放时请求视频播放信息，以取得最新的视频播放url。</pre><h5><a name='header-c69' class='md-header-anchor '></a>5. 开始请求播放信息</h5><pre class='md-fences mock-cm' style='display:block;position:relative'>[playerView startRequestPlayInfo];</pre><h4><a name='header-c72' class='md-header-anchor '></a>2.1.2 视频播放流程控制</h4><h5><a name='header-c73' class='md-header-anchor '></a>1.设置播放源</h5><pre class='md-fences mock-cm' style='display:block;position:relative'> NSURL *url =[NSURL URLWithString:playurl];//播放的URL</pre><pre class='md-fences mock-cm' style='display:block;position:relative'> /*setURL方法 添加播放资源   如果有正在播放的资源，会释放掉当前播放的资源
 *customId 用户自定义参数  有自定义统计参数需求／流量统计的客户必须传值
 *                      没有此需求的客户请传nil
 *在不需要统计的地方均传nil 譬如广告视频／本地播放
 */
 [playerView setURL:url withCustomId:nil/用户自定义参数];</pre><p></p><h5><a name='header-c80' class='md-header-anchor '></a>2. 播放</h5><pre class='md-fences mock-cm' style='display:block;position:relative'>[playerView play];</pre><h5><a name='header-c84' class='md-header-anchor '></a>3. 暂停播放</h5><pre class='md-fences mock-cm' style='display:block;position:relative'>[playerView pause];</pre><h5><a name='header-c86' class='md-header-anchor '></a>5. 停止播放 释放播放资源</h5><pre class='md-fences mock-cm' style='display:block;position:relative'>[playerView resetPlayer];</pre><h5><a name='header-c88' class='md-header-anchor '></a>6.停止视频播放统计</h5><pre class='md-fences mock-cm' style='display:block;position:relative'>/**
 停止视频播放统计 播放页面关闭时务必调用removeTimer方法
 注意：播放页面关闭时 如需释放资源 调用方式如下{
                                          [playerView removeTimer];
                                          [playerView resetPlayer];
 
                                        }
 
 
                 如无需释放播放资源 调用方式如下{
                                            [playerView removeTimer];
                                            [playerView pause];
 
 										}
 */
[playerView removeTimer]; </pre><h5><a name='header-c90' class='md-header-anchor '></a>7. 切换清晰度</h5><pre class='md-fences mock-cm' style='display:block;position:relative'>[playerView switchQuality:videoURL]; </pre><h5><a name='header-c93' class='md-header-anchor '></a>8.字幕显示</h5><pre class='md-fences mock-cm' style='display:block;position:relative'>从播放信息中获取字幕URL后，发起请求，获取要显示的字幕。详情参见Demo</pre><h5><a name='header-c95' class='md-header-anchor '></a>9. 视频广告</h5><p>SDK提供广告接口，用户可以获取广告信息，实现片头广告、暂停广告的播放。</p><p>广告接口的应用示例见广告版demo的 “pragma mark - 广告层”</p><p>在startRequestAdInfo方法中 :</p><pre class='md-fences mock-cm' style='display:block;position:relative'>self.adInfo = [[DWAdInfo alloc]initWithUserId:DWACCOUNT_USERID andVideoId:self.videoId type:_type];
[self.adInfo start];</pre><p>此接口需传入参数如下</p><p>uid, vid, type<br/></p><p>type代表广告类型（1：片头，2：暂停）</p><p>eg:
​	</p><pre class='md-fences mock-cm' style='display:block;position:relative'>type = @&quot;1&quot;;//片头广告
type = @“2”;//暂停广告</pre><p>广告接口返回结果response包括如下参数：</p><pre class='md-fences mock-cm' style='display:block;position:relative'>1.返回结果response包括如下参数：
参数名称          说明
result        1代表成功，0代表失败。int类型
adid          广告id。int类型
time          播放时间。int类型。
canclick      是否能够点击广告跳转。1代表可以，0代表不可以。int类型
canskip       是否可以跳过。1代表可以，0代表不可以。int类型
skiptime      跳过时间，单位秒，经过若干秒后显示跳过按钮，0代表立即显示跳过按钮。int类型（新增）
ad            广告信息

ad包括如下参数：
参数名称  说明
materialid  素材id。int类型。
material    视频或图片链接。string类型
clickurl    跳转连接，返回结果为&quot;&quot;代表没有跳转链接。string类型

2.json示例
成功
{
  &quot;response&quot;: {
    &quot;result&quot;: 1,
    &quot;adid&quot;:10
    &quot;time&quot;: 15,
    &quot;hasmaterials&quot;:1
    &quot;canclick&quot;:1,
    &quot;canskip&quot;:1,
    &quot;skiptime&quot;:5,
    &quot;ad&quot;: [
      {
        &quot;materialid&quot;：100
        &quot;material&quot;: &quot;http://1.material.bokecc.com/material/1936D297411C3A27/8769.flv&quot;,
        &quot;clickurl&quot;: &quot;www.bokecc.com&quot;
      },
      {
        &quot;materialid&quot;：101
        &quot;material&quot;: &quot;http://1.material.bokecc.com/material/1936D297411C3A27/8771.flv&quot;,
        &quot;clickurl&quot;: &quot;www.bokecc.com&quot;
      }
    ]
  }
}

失败
{
  &quot;response&quot;: {
    &quot;result&quot;: 0,
    &quot;error&quot;: -1,
  }
}

3.错误码
-1：参数错误，-2：该用户未投放广告，-3：该用户无type对应类型的广告位，-4：该用户type类型下无广告,-5:数据查询异常</pre><h5><a name='header-c117' class='md-header-anchor '></a>10.DWPlayerView的代理方法</h5><pre class='md-fences mock-cm' style='display:block;position:relative'>/*
 *
 *AVPlayerItem的三种状态
 *AVPlayerItemStatusUnknown,
 *AVPlayerItemStatusReadyToPlay,
 *AVPlayerItemStatusFailed
 */

注意：以下代理方法均已切换到主线程 可直接更新UI
// 可播放／播放中
- (void)videoPlayerIsReadyToPlayVideo:(DWPlayerView *)playerView;

//播放完毕
- (void)videoPlayerDidReachEnd:(DWPlayerView *)playerView;
//当前播放时间 
- (void)videoPlayer:(DWPlayerView *)playerView timeDidChange:(float)time;

//duration 当前缓冲的长度
- (void)videoPlayer:(DWPlayerView *)playerView loadedTimeRangeDidChange:(float)duration;

//进行跳转后没数据 即播放卡顿
- (void)videoPlayerPlaybackBufferEmpty:(DWPlayerView *)playerView;

// 进行跳转后有数据 能够继续播放
- (void)videoPlayerPlaybackLikelyToKeepUp:(DWPlayerView *)playerView;

//加载失败 此方法中可切换线路
- (void)videoPlayer:(DWPlayerView *)playerView didFailWithError:(NSError *)error;
**注意**：如遇到频繁切换视频请求失败的情况 可在加载失败的代理方法中切换线路 详情参见Demo</pre><p></p><h3><a name='header-c304' class='md-header-anchor '></a>2.2 使用SDK播放CC视频云上VR视频的流程</h3><h5><a name='header-c118' class='md-header-anchor '></a>1.与播放普通视频一致 区别是普通视频是放在playerView上，而播放VR视频是可以放在自定义的view上</h5><pre class='md-fences mock-cm' style='display:block;position:relative'>    //VR设置
   DWVRConfiguration* config = [DWVRLibrary createConfig];
   [config asVideo:playerView.player.currentItem];//DWVideoPlayer的属性AVPlayer的currentItem
   [config setContainer:self view:vrView]; //vrView自定义的视图
   // optional
   [config projectionMode:DWModeProjectionStereoSphere];//效果
   [config displayMode:DWModeDisplayNormal];//是否分配
   [config interactiveMode:DWModeInteractiveTouch];//交互模式
   [config pinchEnabled:true];
   [config setDirectorFactory:[[CustomDirectorFactory alloc]init]];
   self.vrLibrary = [config build];
   注意事项：1.如果playerView存在，则播放VR视频时必须隐藏，playerView.hidden =YES;
           2.如果vrView存在，则播放普通视频时必须隐藏，vrView.hidden =YES;
           3.播放VR视频时 切换资源时 先vrView =nil 再重新创建一次，然后调用切换资源的方法。
           4.播放VR视频时，如果发现感应模式下的方向不正确，可调用{ 
            [self.vrLibrary  switchInteractiveMode:DWModeInteractiveTouch];
            [self.vrLibrary switchInteractiveMode:DWModeInteractiveMotion];
            }的组合方法来解决这个问题
           5. DWModeInteractiveTouch,//触摸
              DWModeInteractiveMotion,//重力感应
              DWModeInteractiveMotionWithTouch,//触摸及重力感应
              MotionWithTouch模式下时 触摸控制左右，重力感应控制上下  
   具体详情参见Demo。        </pre><h3><a name='header-c120' class='md-header-anchor '></a>2.3 如何使用SDK上传视频</h3><p><code>DWUploader</code>模块提供将本地视频文件上传至CC视频云的功能。上传视频时需提供userId、API KEY、视频标题、标签和简介。 <code>DWUploader</code>采用多个block与App进行交互，上传视频时你需创建一个上传实例，设置上传超时时间，设置各个block，如<code>DWUploaderProgressBlock</code>、<code>DWUploaderFinishBlock</code>等，在这些block中实现App的业务逻辑。</p><h4><a name='header-c123' class='md-header-anchor '></a>2.3.1 视频上传流程</h4><h5><a name='header-c124' class='md-header-anchor '></a>1. 初始化 DWUploader</h5><p>视频首次上传使用userId、API KEY、视频本地路径、视频标题、标签及简介初始化<code>DWUploader</code>。服务器根据这些信息为视频分配videoId、上传服务器等资源，通常把这些资源称为<strong>上传上下文</strong>。当视频上传被中断（如网络断开或用户暂停），可使用上传上文初始化<code>DWUploader</code>实现断点续传，若此时还未获取上传上下文，则使用首次上传初始化方式重新初始化上传。</p><p>首次上传视频初始化<code>DWUploader</code></p><pre class='md-fences mock-cm' style='display:block;position:relative'>DWUploader *uploader = [[DWUploader alloc] initWithuserId:userId
        andKey:apiKey
        uploadVideoTitle:videoTitle
        videoDescription:videoDescripton
        videoTag:videoTag
        videoPath:videoPath
        notifyURL:nil];</pre><p>断点续传初始化<code>DWUploader</code></p><pre class='md-fences mock-cm' style='display:block;position:relative'>DWUploader *uploader = [[DWUploader alloc] initWithVideoContext:dictionary];</pre><p>注意：**视频标题不得为空，否则会导致上传失败。</p><h5><a name='header-c135' class='md-header-anchor '></a>2. 设置上传HTTP通信超时时间</h5><pre class='md-fences mock-cm' style='display:block;position:relative'>uploader.timeoutSeconds = 20;</pre><p>默认超时时间为10秒。<br/>
若上传过程中产生HTTP通信超时，则会调用<code>DWErrorBlock</code>，可以在该block设置错误处理逻辑。</p><h5><a name='header-c140' class='md-header-anchor '></a>3.设置代理</h5><pre class='md-fences mock-cm' style='display:block;position:relative'>uploader.delegate =self;</pre><h5><a name='header-c142' class='md-header-anchor '></a>4. 设置block</h5><p><code>DWUploader</code>有如下block：</p><pre class='md-fences mock-cm' style='display:block;position:relative'>typedef void (^DWUploaderFinishBlock)();
typedef void (^DWErrorBlock)(NSError *error);
typedef void (^DWUploaderVideoContextForRetryBlock)(NSDictionary *videoContext);
typedef void (^DWUploaderProgressBlock)(float progress, NSInteger totalBytesWritten, NSInteger totalBytesExpectedToWrite);

/**
 *  在该block获取上传进度，可以在block内更新UI，如更新上传进度条。
 */
@property (copy, nonatomic)DWUploaderProgressBlock progressBlock;

/**
 *  上传完成时回调该block，可以在block内更新UI，如将视频标记为上传完成。
 */
@property (copy, nonatomic)DWUploaderFinishBlock finishBlock;

/**
 *  上传失败时回调该block，可以在该block内更新UI，如将视频标记为上传失败。
 */
@property (copy, nonatomic)DWErrorBlock failBlock;

/**
 *  在该block内获取上传上下文，并保存上传上下文，用来实现断线续传。
 */
@property (copy, nonatomic)DWUploaderVideoContextForRetryBlock videoContextForRetryBlock;

/**
 *  当遇到网络问题或服务器原因时上传暂停，回调该block。
 */
@property (copy, nonatomic)DWErrorBlock pausedBlock;

/*
 *第一次请求成功后保存信息 发生异常后如果能获取到此信息 则调用initWithVideoContext:方法做断点续传  
 */
@protocol DWUploaderDelegate &lt;NSObject&gt;
@optional
//第一次请求成功的回调
- (void)checkUploadWithFilePath:(NSString  *)filePath;

@end

注意：通常情况下，不可对同一视频多次使用第一种初始化方式初始化上传，这样会造成大量重复视频，增加你后期管理视频的同事的工作量，且CC视频会根据你的付费套餐对每天的上传次数有不同的限制，超过最大上传次数，当天便无法上传视频。</pre><h5><a name='header-c147' class='md-header-anchor '></a>5. 开始上传</h5><pre class='md-fences mock-cm' style='display:block;position:relative'>[uploader start];</pre><h4><a name='header-c150' class='md-header-anchor '></a>2.3.2 视频上传控制</h4><p>视频上传控制用来和UI进行交互，当用户点击开始上传、暂停、继续时，可以通过调用<code>DWUploader</code>的start、pause、resume方法实现对应的视频上传控制。</p><h3><a name='header-c153' class='md-header-anchor '></a>2.4 如何使用SDK下载音视频</h3><p><code>DWDownloadSessionManager</code>模块提供从CC视频云下载视频的功能，下载时需提供userId、API KEY、videoId及用来保存下载视频的本地文件路径。</p><p><strong>注意：</strong>CC音视频的下载url具有时效性，你需要在每次下载时重新取得正确的下载url。</p><h4><a name='header-c158' class='md-header-anchor '></a>2.4.1 下载音视频流程一</h4><h5><a name='header-c159' class='md-header-anchor '></a>1. 获取下载地址 注意 ：hlsSupport必须传 @“0”</h5><pre class='md-fences mock-cm' style='display:block;position:relative'> DWPlayInfo *playinfo = [[DWPlayInfo alloc] initWithUserId:DWACCOUNT_USERID  andVideoId:videoid key:DWACCOUNT_APIKEY hlsSupport:@&quot;0&quot;];
 //1为视频 2为音频 0为视频+音频 若不传该参数默认为视频
 playinfo.mediatype =@&quot;1&quot;;

 [playinfo start];</pre><h5><a name='header-c161' class='md-header-anchor '></a>2. 设置下载HTTP通信超时时间</h5><pre class='md-fences mock-cm' style='display:block;position:relative'>playinfo.timeoutSeconds = 20;</pre><p>默认超时时间为10秒。<br/>
下载过程中HTTP通信超时时，会调用<code>errorBlock</code>下载失败的block，告知你请求资源超时。</p><h5><a name='header-c166' class='md-header-anchor '></a>3. 设置block</h5><p><code>DWPlayInfo</code>有如下block：</p><pre class='md-fences mock-cm' style='display:block;position:relative'>@property (copy, nonatomic)DWErrorBlock errorBlock;
@property (copy, nonatomic)DWPlayInfoFinishBlock finishBlock;

请求下载资源成功 返回下载信息 调用DWUtils解析数据
 playinfo.finishBlock = ^(NSDictionary *response){
        
        NSDictionary *playUrls =[DWUtils parsePlayInfoResponse:response];

}

得到的playurls如下
{
    defaultdefinition = 10;
    definitionDescription =     (
        &quot;\U6e05\U6670&quot;,
        &quot;\U9ad8\U6e05&quot;
    );
    definitions =     (
                {
            definition = 10;
            desp = &quot;\U6e05\U6670&quot;;
            playurl = &quot;http://d1-33.play.bokecc.com/flvs/cb/QxhEr/hKboX7hTIY-10.pcm?t=1493352053&amp;key=11BFE2077FC9D38787957E49128E4E1C&amp;upid=8342481493344853732&quot;;
        },
                {
            definition = 20;
            desp = &quot;\U9ad8\U6e05&quot;;
            playurl = &quot;http://d1-33.play.bokecc.com/flvs/cb/QxhEr/hKboX7hTIY-20.pcm?t=1493352053&amp;key=AB2A50D26D0ADDBF01FB5DD0AE8611BF&amp;upid=8342481493344853732&quot;;
        }
    );
    status = 0;
    statusinfo = &quot;\U6b63\U5e38&quot;;
    token = &quot;122,125,10,120,127,14,10,8,1,120,123,124,123,10,122,14,125,120,11,123,1,11,11,120,127,0,14,0,14,0,8,15&quot;;
}</pre><p>​  <br/></p><h4><a name='header-c172' class='md-header-anchor '></a>2.4.2 下载音视频流程二</h4><p>注意事项：在Appdelegate中进行后台下载设置</p><pre class='md-fences mock-cm' style='display:block;position:relative'>- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions
{
     //是否允许移动流量下载
    [DWDownloadSessionManager manager].allowsCellular =NO;
    //后台下载设置 
     [[DWDownloadSessionManager manager] configureBackroundSession];//必须设置
 }
 
 具体详情参见demo</pre><p>1.初始化DWDownloadSessionManager  manager是个单例</p><pre class='md-fences mock-cm' style='display:block;position:relative'>DWDownloadSessionManager *manager =[DWDownloadSessionManager manager];</pre><h5><a name='header-c179' class='md-header-anchor '></a>2.设置 DWDownloadModel 注意:  若你所下载的 videoId 未启用视频加密功能，则保存的文件扩展名[必须]是 mp4，responseToken  userId  videoId均为nil 否则无法播放。 若你所下载的 videoId 启用了视频加密功能，则保存的文件扩展名[必须]是 pcm，responseToken  userId  videoId必须有值  否则无法播放。详情参见Demo。</h5><pre class='md-fences mock-cm' style='display:block;position:relative'> DWDownloadModel *loadModel =[[DWDownloadModel alloc]initWithURLString:urlString filePath:videoPath responseToken:nil userId:nil videoId:nil];</pre><p></p><h5><a name='header-c184' class='md-header-anchor '></a>3. 开始下载</h5><pre class='md-fences mock-cm' style='display:block;position:relative'>[manager startWithDownloadModel:loadModel progress:^(DWDownloadProgress *progress,DWDownloadModel *downloadModel) {
    progress下载的进度   调用DWDownloadUtility 解析相关进度的信息
    downloadModel 本次下载的downloadModel   
        
    } state:^(DWDownloadModel *downloadModel,DWDownloadState state, NSString *filePath, NSError *error) {
    state 下载状态 如下几种
    DWDownloadStateNone,        // 未下载 或 下载删除了
    DWDownloadStateReadying,    // 等待下载
    DWDownloadStateRunning,     // 正在下载
    DWDownloadStateSuspended,   // 下载暂停
    DWDownloadStateCompleted,   // 下载完成
    DWDownloadStateFailed       // 下载失败
       
    }];</pre><h5><a name='header-c187' class='md-header-anchor '></a>4. DWDownloadSessionManager中提供相应的方法进行暂停 恢复 删除的操作 具体详情参见demo。也可使用代理方法更新下载的进度和状态。注意：如无特殊需要 maxDownloadCount resumeDownloadFIFO isBatchDownload 均不需要设置。</h5><pre class='md-fences mock-cm' style='display:block;position:relative'>// 下载代理
@protocol DWDownloadDelegate &lt;NSObject&gt;

// 更新下载进度
- (void)downloadModel:(DWDownloadModel *)downloadModel didUpdateProgress:(DWDownloadProgress *)progress;

// 更新下载状态
- (void)downloadModel:(DWDownloadModel *)downloadModel didChangeState:(DWDownloadState)state filePath:(NSString *)filePath error:(NSError *)error;

@end

/**
 *  下载管理类 封装NSURLSessionDownloadTask
 */
@interface DWDownloadSessionManager : NSObject&lt;NSURLSessionDownloadDelegate&gt;

// 下载代理
@property (nonatomic,weak) id&lt;DWDownloadDelegate&gt; delegate;

// 等待中的模型 只读
@property (nonatomic, strong,readonly) NSMutableArray *waitingDownloadModels;

// 下载中的模型 只读
@property (nonatomic, strong,readonly) NSMutableArray *downloadingModels;

/*
 * maxDownloadCount resumeDownloadFIFO起作用的前提是设置 isBatchDownload =NO
 * 设置maxDownloadCount 是为了处理 譬如网络不好的时候 设置一次只下载一个视频 而不是必须要求有多个视频并发下载
 * 注意 最大下载数的概念 是少于或等于
 */
 
// 最大下载数
@property (nonatomic, assign) NSInteger maxDownloadCount;

// 等待下载队列 先进先出 默认YES， 当NO时，先进后出
@property (nonatomic, assign) BOOL resumeDownloadFIFO;

// 全部并发 默认YES, 当YES时，忽略maxDownloadCount 
@property (nonatomic, assign) BOOL isBatchDownload;

// 后台session configure
@property (nonatomic, strong) NSString *backgroundConfigure;
@property (nonatomic, copy) void (^backgroundSessionCompletionHandler)();

// 后台下载完成后调用 返回文件保存路径filePath
@property (nonatomic, copy) NSString *(^backgroundSessionDownloadCompleteBlock)(NSString *downloadURL);

// 单例
+ (DWDownloadSessionManager *)manager;

// 配置后台session
- (void)configureBackroundSession;

// 获取正在下载模型
- (DWDownloadModel *)downLoadingModelForURLString:(NSString *)URLString;

// 获取后台运行task
- (NSURLSessionDownloadTask *)backgroundSessionTasksWithDownloadModel:(DWDownloadModel *)downloadModel;

// 是否已经下载
- (BOOL)isDownloadCompletedWithDownloadModel:(DWDownloadModel *)downloadModel;

// 取消所有完成或失败后台task
- (void)cancleAllBackgroundSessionTasks;

// 开始下载
- (DWDownloadModel *)startDownloadURLString:(NSString *)URLString toDestinationPath:(NSString *)destinationPath progress:(DWDownloadProgressBlock)progress state:(DWDownloadStateBlock)state;

// 开始下载 
- (void)startWithDownloadModel:(DWDownloadModel *)downloadModel;

// 开始下载
- (void)startWithDownloadModel:(DWDownloadModel *)downloadModel progress:(DWDownloadProgressBlock)progress state:(DWDownloadStateBlock)state;

// 恢复下载（除非确定对这个model进行了suspend，否则使用start）
- (void)resumeWithDownloadModel:(DWDownloadModel *)downloadModel;

// 暂停下载
- (void)suspendWithDownloadModel:(DWDownloadModel *)downloadModel;

// 取消下载 YES清除已下载的数据 NO不清除
- (void)cancleWithDownloadModel:(DWDownloadModel *)downloadModel isClear:(BOOL )isClear;

// 删除下载文件 
- (void)deleteFileWithDownloadModel:(DWDownloadModel *)downloadModel;

// 删除所有的下载文件 downloadDirectory:对应的文件路径videoPath
- (void)deleteAllFileWithDownloadDirectory:(NSString *)downloadDirectory;

//根据路径获取resumeData path:传原先的下载URL字符串
- (NSData *)resumeDataFromFileWithFilePath:(NSString *)path;

//根据新的URL生成新的resumeData resumeData:原先下载的data urlString:新的下载URL字符串
- (NSData *)newResumeDataFromOldResumeData:(NSData *)resumeData withURLString:(NSString *)urlString;

@end
注意：下载的URL的时效是两小时。两小时后URL失效，可根据开放的API做断点续传。因为iOS11.3后的系统bug，目前在11.3后的系统中无法做URL失效后的断点续传功能，代码中也要相应增加系统版本判断，详情参见demo。</pre><p></p><h3><a name='header-c191' class='md-header-anchor '></a>2.5 如何使用SDK压缩视频</h3><p><code>DWVideoCompressController</code>模块提供从CC视频云压缩视频的功能，压缩时需提供videoQuality、sourceType、mediaType。</p><h4><a name='header-c194' class='md-header-anchor '></a>2.5.1 压缩视频</h4><h5><a name='header-c195' class='md-header-anchor '></a>1. 初始化 DWVideoCompressController</h5><pre class='md-fences mock-cm' style='display:block;position:relative'>DWVideoCompressController *imagePicker = [[DWVideoCompressController alloc] initWithQuality:DWUIImagePickerControllerQualityTypeMediumandSourceType:DWUIImagePickerControllerSourceTypePhotoLibraryandMediaType:DWUIImagePickerControllerMediaTypeMovie];</pre><h5><a name='header-c198' class='md-header-anchor '></a>2. 设置delegate</h5><pre class='md-fences mock-cm' style='display:block;position:relative'>imagePicker.delegate = self;</pre><p><strong>注意：</strong>CC视频的压缩是继承<code>UIImagePickerController</code>，你需要实现<code>UIImagePickerControllerDelegate</code>的回调来处理媒体压缩的后续功能。如果设置相关属性时可以直接用<code>DWVideoCompressController</code>对象修改。</p><h5><a name='header-c202' class='md-header-anchor '></a>3. 设置媒体压缩质量</h5><pre class='md-fences mock-cm' style='display:block;position:relative'>typedef NS_ENUM(NSInteger, 	DWUIImagePickerControllerQualityType)     {
DWUIImagePickerControllerQualityTypeHigh   = 0,     
DWUIImagePickerControllerQualityTypeMedium = 1,     
DWUIImagePickerControllerQualityTypeLow    = 2,    
};</pre><h5><a name='header-c204' class='md-header-anchor '></a>4. 设置媒体来源</h5><pre class='md-fences mock-cm' style='display:block;position:relative'>typedef NS_ENUM(NSInteger, DWUIImagePickerControllerSourceType) {
DWUIImagePickerControllerSourceTypePhotoLibrary,    	DWUIImagePickerControllerSourceTypeCamera,          	DWUIImagePickerControllerSourceTypeSavedPhotosAlbum 
};</pre><h5><a name='header-c206' class='md-header-anchor '></a>5. 设置媒体类型</h5><pre class='md-fences mock-cm' style='display:block;position:relative'>typedef NS_ENUM(NSInteger, DWUIImagePickerControllerMediaType) {
DWUIImagePickerControllerMediaTypeMovieAndImage,        	DWUIImagePickerControllerMediaTypeMovie,                       	DWUIImagePickerControllerMediaTypeImage             
};</pre><h3><a name='header-c208' class='md-header-anchor '></a>2.6 如何使用SDK的GIF功能</h3><p>SDK可以将正在播放的视频做成GIF图，流程为：需要先截取视频 ，再将截取的视频转成GIF图。DWGIFManger开放的API如下：</p><pre class='md-fences mock-cm' style='display:block;position:relative'>/**
 截取视频
 @param videoUrl 视频的URL
 @param outPath 输出路径
 @param outputFileType 输出视频格式
 @param videoRange 截取视频的范围
 @param completeBlock 视频截取的回调
 */
- (void)interceptVideoAndVideoUrl:(NSURL *)videoUrl withOutPath:(NSString *)outPath outputFileType:(NSString *)outputFileType range:(NSRange)videoRange intercept:(InterceptBlock)interceptBlock;


/**
 @param mediaUrlStr URL字符串
 @return 返回视频时长
 */
- (CGFloat)getMediaDurationWithMediaUrl:(NSString *)mediaUrlStr;


/**
 生成GIF图片
 @param videoURL 视频的路径URL
 @param loopCount 播放次数
 @param time 每帧的时间间隔 默认0.25s
 @param imagePath 存放GIF图片的文件路径
 @param completeBlock 完成的回调

 */
- (void)createGIFfromURL:(NSURL*)videoURL loopCount:(int)loopCount delayTime:(CGFloat )time gifImagePath:(NSString *)imagePath complete:(CompleteBlock)completeBlock;

/**
 生成GIF图片
 @param videoURL 视频的路径URL
 @param frameCount 视频的总时长乘以固定数值 如：视频总时长*4
 @param time 每帧的时间间隔
 @param loopCount 播放次数
 @param imagePath 存放GIF图片的文件路径
 @param completeBlock 完成的回调
 */
- (void)createGIFfromURL:(NSURL*)videoURL withFrameCount:(int)frameCount delayTime:(CGFloat )time loopCount:(int)loopCount gifImagePath:(NSString *)imagePath complete:(CompleteBlock)completeBlock;

注意：1.截取视频前需要用获取截取视频的URL，加密SDK调用drmGIFURL方法，非加密SDK调用unDrmGIFURL方法
     2.在视频将要结束播放的时候做GIF功能时，要计算截取视频的实际时长以及在播放完成的代理方法中暂停该视频，否则可能出现bug
以上API使用详情参见demo。</pre><h3><a name='header-c212' class='md-header-anchor '></a>2.7 如何使用SDK的音频播放功能</h3><p>SDK中的DWAudioPlayer可播放音频。</p><h5><a name='header-c215' class='md-header-anchor '></a>2.7.1 音频播放流程</h5><pre class='md-fences mock-cm' style='display:block;position:relative'> //初始化音频播放器
 DWAudioPlayer *audioPlayer =[[DWAudioPlayer alloc]init];
 //设置代理
 audioPlayer.delegate =self;
 //设置播放音频URL
 [audioPlayer setAudioURL:音频URL];
 //播放
 [audioPlayer audioPlay];
</pre><h5><a name='header-c217' class='md-header-anchor '></a>2.7.2 DWAudioPlayer开放的API</h5><pre class='md-fences mock-cm' style='display:block;position:relative'>//跳到xx秒播放音频
- (void)audioScrub:(CGFloat )time;

//播放
- (void)audioPlay;

//暂停
- (void)audioPause;
//重播
- (void)audioRepeatPlay;

//停止播放
- (void)audioResetPlayer;

//设置播放倍速 0.5-2.0
- (void)setAudioPlayerRate:(CGFloat )rate;

//获取当前播放的时间
- (CGFloat )getCurrentPlayTime;

//获取总时间长
- (CGFloat)getTotalPlayTime;
</pre><h5><a name='header-c219' class='md-header-anchor '></a>2.7.3 DWAudioPlayer的代理方法</h5><pre class='md-fences mock-cm' style='display:block;position:relative'>/*
 *
 *AVPlayerItem的三种状态
 *AVPlayerItemStatusUnknown,
 *AVPlayerItemStatusReadyToPlay,
 *AVPlayerItemStatusFailed
 */

//所有的代理方法均已回到主线程
// 可播放／播放中
- (void)audioPlayerIsReadyToPlayVideo:(DWAudioPlayer *)audioPlayer;
//播放完毕
- (void)audioPlayerDidReachEnd:(DWAudioPlayer *)audioPlayer;
//当前播放时间
- (void)audioPlayer:(DWAudioPlayer *)audioPlayer timeDidChange:(CGFloat )time;
//duration 当前缓冲的长度
- (void)audioPlayer:(DWAudioPlayer *)audioPlayer loadedTimeRangeDidChange:(CGFloat )duration;
//进行跳转后没数据 即播放卡顿
- (void)audioPlayerPlaybackBufferEmpty:(DWAudioPlayer *)audioPlayer;
// 进行跳转后有数据 能够继续播放
- (void)audioPlayerPlaybackLikelyToKeepUp:(DWAudioPlayer *)audioPlayer;
//加载失败
- (void)audioPlayer:(DWAudioPlayer *)audioPlayer didFailWithError:(NSError *)error;</pre><h5><a name='header-c221' class='md-header-anchor '></a>2.7.4 音频后台播放</h5><h5><a name='header-c222' class='md-header-anchor '></a>1.在AppDelegate中 退到后台事件时设置远程控制</h5><pre class='md-fences mock-cm' style='display:block;position:relative'>- (void)applicationDidEnterBackground:(UIApplication *)application
{
      [application beginReceivingRemoteControlEvents]; 
     
}</pre><h5><a name='header-c224' class='md-header-anchor '></a>2.在工程的info.plist文件中设置UIBackgroundModes为App plays audio or streams audio/video using AirPlay</h5><h5><a name='header-c225' class='md-header-anchor '></a>2.7.5 音频全局播放</h5><p>音频播放的视图控制器使用单例创建，在页面消失时并不释放，音频也不停止播放即可实现全局播放。</p><h2><a name='header-c228' class='md-header-anchor '></a>3. 如何更好的使用Demo</h2><p>SDK Demo是使用SDK对接CC视频云的示例源码，Demo的设计旨在展示SDK各项功能的使用方法，如果希望应用获得更好的使用体验，可根据需求自行更改。 </p><p>Demo采用代码绘制UI界面，这种方式利于精准控制，批量修改、多人协作。</p><h3><a name='header-c233' class='md-header-anchor '></a>3.1 准备</h3><h4><a name='header-c234' class='md-header-anchor '></a>1. 设置账户信息</h4><p>首先将你userId和API KEY填写在Demo工程下的Demo-Prefix.pch 中:</p><pre class='md-fences mock-cm' style='display:block;position:relative'>#define DWACCOUNT_USERID @&quot;****************&quot;
#define DWACCOUNT_APIKEY @&quot;********************************&quot;</pre><p>并核对，确认填写无误。userId和API KEY信息会显示在 Demo app 的首页。</p><h4><a name='header-c240' class='md-header-anchor '></a>2. 设置下载使用的videoId</h4><p>你需要在<code>DWDownloadViewController.m</code>中修改<code>generateTestData</code>函数：</p><pre class='md-fences mock-cm' style='display:block;position:relative'>- (void)generateTestData
{
    // 将@&quot;...&quot;替换成你要下载的videoId，可以添加多个。 
    self.videoIds = @[];
}</pre><h4><a name='header-c244' class='md-header-anchor '></a>3. 设置播放使用的videoId</h4><p>你需要在<code>DWPlayerViewController.m</code>中修改<code>generateTestData</code>函数：</p><pre class='md-fences mock-cm' style='display:block;position:relative'>- (void)generateTestData
{
    // 将@&quot;...&quot;替换成你要播放的videoId，可以添加多个。 
    self.videoIds = @[];
}</pre><p>到此Demo配置完毕，已可以使用Demo测试你的账号。</p><h3><a name='header-c250' class='md-header-anchor '></a>3.2 播放视频</h3><p>播放器支持本地播放和网络播放，你可以使用<code>DWCustomPlayerViewController</code>播放CC视频云上的视频，也可以使用它播放本地文件，<code>DWCustomPlayerViewController</code>提供了字幕、清晰度切换、画面尺寸调整、音量控制，切换备用线路等功能；播放页面的UI元素全部是定制的、可修改的。</p><h4><a name='header-c253' class='md-header-anchor '></a>1. 使用DWCustomPlayerViewController播放CC视频云上的视频</h4><p>参见<code>2.1.1 使用SDK播放CC视频云上视频的流程</code>。</p><h4><a name='header-c256' class='md-header-anchor '></a>2. 使用DWCustomPlayerViewController播放从CC视频云下载的视频</h4><p>参见 2.1.1 使用SDK播放CC视频云上视频的流程。注意：本地文件要先获取文件路径videoLocalPath，然后设置视频URL</p><pre class='md-fences mock-cm' style='display:block;position:relative'>[player setURL:[NSURL fileURLWithPath:videoLocalPath]withCustomId:nil];</pre><p>具体详情参见Demo.</p><h2><a name='header-c262' class='md-header-anchor '></a>4. 如何调试和反馈问题</h2><p>SDK提供了<code>DWLog</code>模块用来打印HTTP通信日志，可以在App的任意位置开启或关闭 打印HTTP通信日志等功能。下面是<code>DWLog</code>的使用方法：</p><pre class='md-fences mock-cm' style='display:block;position:relative'>// 开启 打印HTTP通信日志 功能
[DWLog setIsDebugHttpLog:YES];

// 关闭 打印HTTP通信日志 功能
[DWLog setIsDebugHttpLog:NO];</pre><p>当遇到无法播放、上传或下载时，首先要排除userId和API KEY是否有效，其次判断网络是否正常、是否已经连接、 videoId是否是userId和API KEY名下的视频。除此之外还可以通过 HTTP通信日志排查问题。</p><p>更多信息请参考<a href='http://doc.bokecc.com/'>CC视频开发者支持网站</a>，如果在使用SDK过程中遇到其他问题请联系CC客服进行反馈。</p></div>
</body>
</html>